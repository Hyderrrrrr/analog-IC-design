# 交流电容模型
上一篇里说小信号模型，其实漏了电容，所以只是一个直流小信号模型。要讨论交流信号的传输，就离不开电容（在一般的模拟电路设计中，电感出现的概率太小）。
其实对于电容，说起来也好理解，也不好理解。通常在饱和区，大家都知道有cgs，cgd，等等，而每个电容里都包括覆盖电容和本征电容，覆盖电容是由于加工造成的寄生性质电容，本征电容意味着是自身固有的，由于器件特性造成的电容。而大家更为熟悉的就是在饱和区，cgs=2/3cox*Area，是各个电容中最大的，但是cgd则由于miller效应，会被倍乘。这是许多教课书上的标准说法。
这里就说说一般不注意的几个问题。如果用软件仿真，会发现不仅有cgs，还有csg，不仅有cgd，还有cdg，更有cgg，cdd，css等。这又是怎么一回事呢？更常见的一个问题就是设计电路时，常常有人说这个栅上的等效电容就是cgg，所以如果前级接栅，可以用cgg算负载电容，这样说对吗？
首先问各位，c的定义是什么，应该是dQ/dv，而Q是什么，如果是通常的平板电容，两个极板的Q是一样的，只是符号相反。可是在mos这里就有问题了。当在饱和区时，source和drain通过沟道被连在了一起，所以你说哪里是source的电荷哪里又是drain的电荷呢？因此这时就需要精确区分Q了。
所以这里的C，书上起了个名字叫非互易电容，就是Cij!=Cji，而定义是什么呢？Cij=dQi/dVij。所以cgs和csg是不一样了。那是不是不能区分Qs和Qd，就变成糊涂账了呢？也不是，器件物理里根据若干若干假设，还是成功的吧沟道电荷Q划分开了，而不同的模型划分方法也有所不同，通常是4、6开，有的还给用户留了个口子，可以自定义，所谓的xpart。
至于第二个问题，cgg是什么，是不是这点的所有负载电容，是不是可以当运放的负载电容？前面说了，有cij 的电容形式，但是这些电容也不是完全独立的，比如cgs+cgd+cgb=csg+cdg+cbg，如此类型的关系始终存在。那么自然可以定义cgg为cgi之和，其中i=s，d，b。从这个意义上说，这个电容真的很像该点的电容之和。
可是要是用它直接当该点的负载电容，那就犯了严重错误了。为什么？因为假如可以这样干，那还讨论miller效应干什么，我们的仿真器也不用费尽心思优化耦合电容的计算了，一切都很简单了。我们必须记住一点，从某点看去的等效c，实际是和这点以及c的另一端电压如何变化有关的。举例而言，除了miller效应这个例子之外，还可以想另一种情况，电容的两端同样大小的变化，那么这个电容上的电荷不会有任何变化，也就不会有电流流入或者流出，这就是一种有源屏蔽的原理所在。
为什么要强调这个问题呢？因为在做gain boost时，不止一个人给我说，gaiboost小运放的负载电容就是它所连接的cascode管子的cgg。我想这样讨论过这后，应该不会有人这么简单的回答这个问题了。 

