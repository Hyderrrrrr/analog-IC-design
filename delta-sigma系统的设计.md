Delta-sigma AD DA设计
这个题目实在太大了。我觉得在这里只能写成一个提纲的形式，具体的内容还是需要个人自行研究的。
1.看什么书？我强烈推荐schreier的那本understanding delta-sigma data converters，科学出版社有影印版，不过据说现在已经卖光了。这边书好处是深入简出，还带有实例和行为级工具箱，基本覆盖了各个方面。之前看了不少其他的书，都不如这一本令人觉得立刻清晰了很多。许多人还推荐另一本delta-sigma data converters theory,design,and simulation。作者也有schreier，不过内容实际是多人的汇编。这边书英文版是黄色的，如果你能有一本，时不时拿出来show一下，也能给其他人很深的印象。不过这边书是我刚开始学时用的书，感觉很不好，基本不是针对初学者写的，而可以算高级文献总结，读每一章都很吃力。其他还有很多书，不过大多是专门于一点。
2.系统设计。系统设计就涉及到系统函数的设计。在系统函数里，根据实现的不同，区分为连续，离散，离散的通常用sc电路设计，似乎用的较多，连续的则可以省略前置的antialias滤波器，功耗要节省不少，速度也能做上去。根据处理信号的不同，还可以区分为低通和带通（复数信号也可以算在内）。后者在通信里用的多。根据结构不同，可以区分为单环和mash。单环要做高阶的就有稳定性问题，mash每个环路都只是低阶，稳定性问题不大，但需要考虑各个环路之间的匹配。根据量化器，又可以区分为单bit和多bit。单bit的量化器不用考虑反馈DAC匹配问题，但是系统的非线性特性强烈。多bit刚好相反，在反馈DAC中必须考虑匹配问题。根据零点位置，还可以区分为零点均在dc和在dc与其他位置（这里只针对低通的讲），有不在dc的零点，就得考虑做局部反馈做出该零点，因此实现上有所不同。
在定系统函数时，绕不过去的一个问题是稳定性。对于1阶2阶，理论上只要信号不超过vref，就可以一直稳定。对于高阶单bit，有人给出rule of thumb是不能将传输函数的最大增益做太高。也有人提出要用不同信号去测试系统的稳定性，但是用什么信号才算比较合适？我没下载到相关文献，所以也不知道当初的人是怎么考虑。我们这边是说尽量用低频信号，但是具体的准则也完全靠自己掌握。对于多bit，有公式给出稳定的信号范围。但是对这个公式我也不是很理解，因为它给出的是稳定的充分条件而不是必要条件。如果信号出了这个范围又如何呢？从仿真看，似乎有时这个公式给出的范围非常小，那么是否一定要保证这个条件呢？
在系统函数确定的过程中，书上给出了一个约束条件，就是脉冲响应的第一个输出为1，等价于环路中必须有延迟，等价后就好理解原因了，因为涉及到可实现性。
定好系统函数之后，存在一个从系统函数到实际各个系数的映射。首先的一个问题是映射成量化器输出送到每个积分器输入还是映射成每个积分器输出都送入量化器。这实际就是信号与系统里IIR的两种实现结构，在书里就是feedback（FB）还是feedforward（FF）。这对信号传输函数的实现有影响。但是对最终实现的硬件开销是否有影响呢？这个在很多时候就是等于问电容的大小。书中给的例子里FF要好一些，但是否是常态这是个问题。sansen给出了一种把输入信号也送入量化器的结构，可以减少内部信号的大小，也可以减小电容。
在实际映射时，可以发现其实有多余的自由度，换句话说映射不是唯一的。这就给了scale空间。scale实际是开关电容滤波器设计中常用的方法，就是尽量让节点的输出占据所有的动态范围，保证最好的snr。scale的原理其实也不麻烦。在1bit实现中，还存在另一种效应，就是在量化器前加任意增益，对系统无任何影响。这对映射和scale有何好处？谁能谈一谈？
实际各个系数定好后，基本就是确定电容大小了（以sc电路为例）。而最关键的就是输入电容的大小，因为它对噪声的影响最大。如果只是理论，自然可以用ktc理论进行计算，但总有些不放心。但是如果用pnoise之类的仿真，就得搭建合适的仿真架构了。这个我还一直没走通，在design guide里有相关的介绍。
对ct系统的设计更复杂一些，看许多文献里是用冲击响应不变的理论设计，先给出dt的原型，再根据公式转换到ct域。由于只是了解了一下，没有动手，因此不在这里多说了。
3.电路设计.电路设计其实就落入了传统电路设计的领域。运放需要设计多快，增益需要多高等等，底限是多少。行为级仿真很有必要，理论是不是有提示呢？对于增益，理论分析认为只是影响零点位置，行为级分析里也是如此，因此给出的rule是大于osr，这似乎太宽松了。实践中似乎没有人这么干。对于带宽和sr，90年前后有人做的论文给出有两个设计区域，一个是sr很大bw小，一个是sr小bw大，都可以。不过实践中sr和bw也是基本同步变化的，所以也不会有人刻意将一个做大一个做小。至于bw应该是fs的多少倍，似乎也没有定数，一般几倍就可以了。
4.dac设计。dac比较可怜，讲了adc就很少谈dac，因为有些类比性。从模拟角度看，就是低通滤波器，只是这个滤波器比较特殊，需要考虑整个周期的特性，而不是像一般的sc滤波器，只考虑采样点的特性。这里我一直有个问题，就是音频dac的带外噪声如何考虑。如果太大，导致后级速度跟不上，自然不行，但是如果能跟上呢？因为人耳本身就是低通滤波器，是否就可以不考虑了呢？为什么许多音频dac的指标里还特意标明了这点？
 

