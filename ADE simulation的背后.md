ADE simulation 的背后
cadence里用spectre仿真，一般都是直接用图形界面，在ADE里调用spectre，包括看结果也在图形界面中。
图形界面有图形界面的好处，就是比较直观。可是图形界面也局限了设计者。要是想有个什么调整而图形界面不提供，就觉得束手无策了。
用了多年的图形界面，时不时也需要转到命令行去干点事情，就逼得我不得不研究起icfb里的仿真过程来了。下面就大概讲讲我的理解（事先声明，我没做过 cadence AE，而且软件版本不同行为可能会有所不同，我这里说5141，所以如果大家发现自己那里不是这样，请自动忽略，毕竟渔比鱼重要）。
先说网表生成。在ADE里有个switch view list和stop view list在控制网表产生的遍历方法。更具体些，我们做电路图，每个cell都有若干view，那么生成电路图时用哪个view，就是这里的list控制。可以想象是一棵树，stop的就是最终的树叶。cadence文档里对此有详细的解释。至于用了schematic view之后又是如何更具体产生网表的，我不是太清楚了，怀疑和CDF里的simulation information有关系。
产生网表的过程还是一个名字替换的过程。这是因为spectre允许的名字和schematic里允许的名字规则不完全一样。所以可以会有一个名字转换的表格存在。这个表格以目录的形式和最终网表放在同一个目录下，一般是netlist/amap。举个例子，电路图中的a<1:0>就需要转换（虽然spectre能认类似的结构，但网表里还是被转换成a_1 a_0了）。知道这些，对于后仿真，使用别的波形软件等工作有很大的帮助。
最终的网表会在netlist下的input.scs，可以肯定的是这个就是ADE最后使用的网表，不信可以看看ADE里simulation -》netlist里。同时ADE还提供了相应的命令行runSimulation。需要说明的是runSimulation里应该是用了与ADE交互的模式+inter=mpsc，所以如果我们用这个命令行，就要把相关的删掉。
从命令行里可以看出，仿真的输出都在../psf下面。这是默认的行为。对于parameter仿真，corner仿真，结果是在../Corner等目录。但是结构是完全一样的（至于网表是如何生成的，我有些没明白，怀疑不是一次生成的，而是仿真一个产生一个）。在psf里有个重要的文件叫runObjFile。以前我没注意到，后来才发现它其实是用于解释仿真结果目录结构的（旧的result browser必须有它，新的似乎可以不用）。要是corner仿真等，全靠它指示看波形软件到哪里去找结果。而corner和parameter仿真结果不能同时被波形软件提取出来估计也和这有关（不知道新版本是否可以做到）。有兴趣的可以看一眼这个文件，还是文本格式的。很多时候，如果缺了这个文件，仿真结果虽然就躺在那里，看波形的就是视而不见。
其实spectre在命令行里也提供了不少便利，网表里也是，但是在图形界面下未必有对应的按钮，或者不能搞批处理。所以有时候利用图形界面产生的基础，在上面做简单的修改，搞命令行模式也是提高效率的事情。具体的可以查spectre的使用手册。
 

